generator client {
  provider = "prisma-client-js"
  output   = "../src/generated/prisma"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model User{
  id_user Int @id @default(autoincrement())
  nome String
  email String @unique
  senha String
  nascimento DateTime
  genero String
  Dadosfisicos DadosFisicos[]
  Dadosmentais DadosMentais[]
  Diario diario[] 
  ProfissionalUser ProfissionalUser[]
  medUser medUser[]
  TreinoUser TreinoUser[]
}

model DadosFisicos{
  id_dadosfisicos Int @id @default(autoincrement())
  id_user Int
  altura Float
  peso Float
  idade Int
  sexo String
  exeReg String
  obj String
  deli String?

  user User @relation(fields: [id_user], references: [id_user])

}

model DadosMentais{
  id_dadosmentais Int @id @default(autoincrement())
  id_user Int
  sonoPerDia Int
  trabPerDia Int
  tempHobby Int
  transt String?

  user User @relation(fields: [id_user], references: [id_user])
}

model diario{
  id_diario Int @id @default(autoincrement())
  id_user Int
  exercicio_feitos Int
  calorias_gastas Float
  copos_bebidos Int

  user User @relation(fields: [id_user], references: [id_user])
}

model proficional{
  id_profissional Int @id @default(autoincrement())
  nome String
  idade Int
  email String @unique
  senha String

  profissionalUser ProfissionalUser[]

}

model ProfissionalUser {
  id_profissional_user Int @id @default(autoincrement())
  id_profissional Int
  id_user Int

  profissional proficional @relation(fields: [id_profissional], references: [id_profissional])
  user User @relation(fields: [id_user], references: [id_user])
}

model meditacao{
  id_meditacao Int @id @default(autoincrement())
  nome String
  descricao String

  medUser medUser[]

}

model medUser {
  id_med_user Int @id @default(autoincrement())
  id_user Int
  id_meditacao Int

  user User @relation(fields: [id_user], references: [id_user])
  meditacao meditacao @relation(fields: [id_meditacao], references: [id_meditacao])
}

enum GrupoMusc {
  UM
  DOIS
  TRES
  QUATRO
  CINCO
}

enum Nivel {
  UM
  DOIS
  TRES
}

model Treino {
  id_treino Int       @id @default(autoincrement())
  grupomusc GrupoMusc
  nivel     Nivel

  treinoUser TreinoUser[]
}

model TreinoUser {
  id_treino_user Int @id @default(autoincrement())
  id_user Int
  id_treino Int

  user User @relation(fields: [id_user], references: [id_user])
  treino Treino @relation(fields: [id_treino], references: [id_treino])
}
